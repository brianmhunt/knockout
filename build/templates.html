<!--     /templates/api.html    -->
<template id='api'>
  API
</template>

<!--     /templates/docs-fn.html    -->
<template id='docs/fn' data-markdown>

  Occasionally, you may find opportunities to streamline your code by attaching new functionality to Knockout's core value types. You can define custom functions on any of the following types:

  TODO: HIERARCHY
  ![](images/fn/type-hierarchy.png)

  Because of inheritance, if you attach a function to `ko.subscribable`, it will be available on all the others too. If you attach a function to `ko.observable`, it will be inherited by `ko.observableArray` but not by `ko.computed`.

  To attach a custom function, add it to one of the following extensibility points:

  * `ko.subscribable.fn`
  * `ko.observable.fn`
  * `ko.observableArray.fn`
  * `ko.computed.fn`


  Then, your custom function will become available on all values of that type created from that point onwards.

  ***Note:*** It's best to use this extensibility point only for custom functions that are truly applicable in a wide range of scenarios. You don't need to add a custom function to these namespaces if you're only planning to use it once.

  ### Example: A filtered view of an observable array

  Here's a way to define a `filterByProperty` function that will become available on all subsequently-created `ko.observableArray` instances:

  ```javascript
ko.observableArray.fn.filterByProperty = function(propName, matchValue) {
    return ko.computed(function() {
        var allItems = this(), matchingItems = [];
        for (var i = 0; i < allItems.length; i++) {
            var current = allItems[i];
            if (ko.unwrap(current[propName]) === matchValue)
                matchingItems.push(current);
        }
        return matchingItems;
    }, this);
}
  ```

  This returns a new `ko.computed` value that provides a filtered view of the array, while leaving the original array unchanged. Because the filtered array is a `ko.computed`, it will be re-evaluated automatically whenever the underlying array changes.

  The following live example shows how you could use this:

  ```javascript
ko.observableArray.fn.filterByProperty = function(propName, matchValue) {
    return ko.computed(function() {
        var allItems = this(), matchingItems = [];
        for (var i = 0; i < allItems.length; i++) {
            var current = allItems[i];
            if (ko.unwrap(current[propName]) === matchValue)
                matchingItems.push(current);
        }
        return matchingItems;
    }, this);
}
  ```

  ```html
<h3>All tasks (<span data-bind="text: tasks().length"> </span>)</h3>
<ul data-bind="foreach: tasks">
    <li>
        <label>
            <input type="checkbox" data-bind="checked: done" />
            <span data-bind="text: title"> </span>
        </label>
    </li>
</ul>

<h3>Done tasks (<span data-bind="text: doneTasks().length"> </span>)</h3>
<ul data-bind="foreach: doneTasks">
    <li data-bind="text: title"></li>
</ul>
  ```

  ```javascript
function Task(title, done) {
    this.title = ko.observable(title);
    this.done = ko.observable(done);
}

function AppViewModel() {
    this.tasks = ko.observableArray([
        new Task('Find new desktop background', true),
        new Task('Put shiny stickers on laptop', false),
        new Task('Request more reggae music in the office', true)
    ]);
    // Here's where we use the custom function
    this.doneTasks = this.tasks.filterByProperty("done", true);
}

ko.applyBindings(new AppViewModel());
  ```

  {% include live-example-minimal.html %}

  #### It's not mandatory

  If you tend to filter observable arrays a lot, adding a `filterByProperty` globally to all observable arrays might make your code tidier. But if you only need to filter occasionally, you could instead choose *not* to attach to `ko.observableArray.fn`, and instead just construct `doneTasks` by hand as follows:

  ```javascript
this.doneTasks = ko.computed(function() {
    var all = this.tasks(), done = [];
    for (var i = 0; i < all.length; i++)
        if (all[i].done())
            done.push(all[i]);
    return done;
}, this);
  ```
</template>

<!--     /templates/docs.html    -->
<template id='docs'>
  <h1>Documentation</h1>

  <ol data-bind='foreach: documentation'>
    <a href='#{{ template }}'>{{ title }}</a>
  </ol>
</template>

<!--     /templates/footer.html    -->
<template id='footer'>
  <div class='footer pure-g'>
    <div class='pure-u-1 pure-u-sm-2-5'>
      <h4>Links</h4>
      <ul class='links' data-bind='foreach: links'>
        <li>
          <a href='{{ href }}'>
            <i class='fa fa-fw {{icon}}'></i>
            {{ $data.title }}
          </a>
        </li>
      </ul>
    </div>
    <div class='pure-u-1 pure-u-sm-2-5'>
      <h4>Get it</h4>
      <h5>Bower</h5>
      <code>$ bower install knockoutjs</code>

      <h5>npm</h5>
      <code>$ npm install knockout</code>

      {{# foreach: cdn }}
        <div>
          <h5>
            {{ name }}
            &emsp;
            <em>{{ version }}</em>
          </h5>
          <div>
            <a href='{{ min }}'>
              <i class='fa fa-fw fa-code'></i>
              Minified
            </a>
            <a href='{{ debug }}'>
              <i class='fa fa-fw fa-file-code-o'></i>
              Debug
            </a>
          </div>
        </div>
      {{/ foreach }}
    </div>
  </div>
</template>

<!--     /templates/header.html    -->
<template id='header'>
  <div class='header'>
    <img src='images/logo.svg' alt='Knockout.'/>

    <a href='#intro'>Intro</a>

    <a href='#docs'>Documentation</a>

    <a href='#api'>API</a>

    <a href='#plugins'>Plugins</a>
  </div>
</template>

<!--     /templates/intro.html    -->
<template id='intro'>

  <h1>Key Concepts</h1>
  <div class='pure-g'>
    <div class='pure-u-sm-2-24'>&nbsp;</div>
    <div class='pure-u-1 pure-u-sm-5-24'>
      <i class='fa fa-link fa-4x'></i>
      <h4>Declarative bindings</h4>
      Easily associate DOM elements with model data using a
      concise, readable syntax
    </div>
    <div class='pure-u-1 pure-u-sm-5-24'>
      <i class='fa fa-refresh fa-4x'></i>
      <h4>Automatic UI refresh</h4>
      When your data model's state changes, your UI updates automatically
    </div>
    <div class='pure-u-1 pure-u-sm-5-24'>
      <i class='fa fa-code-fork fa-4x'></i>
      <h4>Dependency Tracking</h4>
      Implicitly set up chains of relationships between model data, to
      transform and combine it
    </div>
    <div class='pure-u-1 pure-u-sm-5-24'>
      <i class='fa fa-newspaper-o fa-4x'></i>
      <h4>Templating</h4>
      Quickly generate sophisticated, nested UIs as a function of your
      model data
    </div>
  </div>

  <p class='text-center'>
    <i class='fa fa-university fa-2x'></i>
    Check out the
    <a href='http://learn.knockoutjs.com'>interactive tutorial</a>.
  </p>

  <h1>Live example</h1>
  <div class='pure-g'>
    <div class='pure-u-1 pure-u-sm-1-2'>
      <h2>
        Javascript
      </h2>
      <div data-bind='edit-js: "intro"'></div>
    </div>
    <div class='pure-u-1 pure-u-sm-1-2'>
      <h2>
        HTML
        <code>node</code>
      </h2>
      <div data-bind='edit-html: "intro"'></div>
    </div>
  </div>

  <h2>Result</h2>
  <div data-bind='result: "intro"'></div>

</template>

<!--     /templates/page.html    -->
<template id='page'>
  {{# template: 'header' /}}

  <div class='main' data-bind='if: body'>
    {{# template: body /}}
  </div>

  {{# template: 'footer' /}}
</template>

<!--     /templates/plugins.html    -->
<template id='plugins'>
  <h1>
    Plugins
    <input type='search' placeholder='Search' data-bind='textInput: pluginNeedle' />
  </h1>



  <table class='pure-table pure-table-horizontal pure-table-striped' style='width: 100%'>
    <thead>
      <tr>
        <th>Repository</th>
        <th>About</th>
      </tr>
    </thead>
    <tbody data-bind='foreach: sortedPluginRepos'>
      <tr data-bind='with: $parent.pluginMap.get($data)'>
        <td class='plugin-repo'>
          <a href='{{ html_url }}'>{{ name }}</a>
          <div class='plugin-owner'>
            By
            <a  href='{{ owner.html_url }}'>
              {{ owner.login }}
            </a>
          </div>
        </td>
        <td>
          {{# template: "plugins-td" /}}
        </td>
      </tr>
    </tbody>
  </table>
</template>


<template id='plugins-td'>
  <div class='pure-g'>
    <div class='pure-u-1 pure-u-sm-4-5'>
      {{ description }}
      {{# if: homepage }}
        <a href='{{ homepage }}' style='display: block'>
          <i class='fa fa-home'></i>
          {{ homepage }}
        </a>
      {{/ if }}
    </div>
    <div class='pure-u-1 pure-u-sm-1-5 plugin-extras'>
      <i class='fa fa-star'></i> {{ stargazers_count }}&ensp;
      <i class='fa fa-code-fork'></i>{{ forks_count }}&ensp;
      <i class='fa fa-exclamation-circle'></i> {{ open_issues_count }}
    </div>
  </div>
</template>

<!--     /templates/updating-appcache.html    -->
<template id='updating-appcache'>
  This page has been updated. Everything will reload automatically
  when the latest version has finished downloading.
</template>
